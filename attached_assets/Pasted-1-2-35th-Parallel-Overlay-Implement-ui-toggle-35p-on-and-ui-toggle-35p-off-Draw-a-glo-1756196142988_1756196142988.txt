1.2 35th Parallel Overlay

Implement ui.toggle_35p_on() and ui.toggle_35p_off():
Â Â Â Â â€¢Â Â Â Â Draw a glowing latitude line at 35Â°N.
Â Â Â Â â€¢Â Â Â Â Activate hotspot pins at regions listed in Â§4 seed data.
Â Â Â Â â€¢Â Â Â Â Open the lesson side panel (see 1.3).

1.3 Lesson Side Panel (tabs)

Create a right-side panel ui.open_sidepanel("35p_lesson") with four tabs:
Â Â Â Â â€¢Â Â Â Â Intro
â€œA latitude line that links continentsâ€”and orchids. At ~35Â°N, daylength and seasons shape habitats from California fog belts to Mediterranean scrub, Japanese forests, and Australian woodlands.â€
Â Â Â Â â€¢Â Â Â Â Regions
â€œTap a region to see species cards.â€ Buttons: California â€¢ Mediterranean â€¢ Japan â€¢ China â€¢ Australia
Â Â Â Â â€¢Â Â Â Â Activity
â€œCheck your orchids for 35Â°N ancestry: upload your list or scan your linked collection.â€
Â Â Â Â â€¢Â Â Â Â Demo
â€œSit back for a 5-minute guided tour of orchids along the 35th parallel.â€

1.4 Toasts (short confirmations)
Â Â Â Â â€¢Â Â Â Â â€œ35th Parallel mode enabled.â€
Â Â Â Â â€¢Â Â Â Â â€œDemo Tour startedâ€”tap to pause.â€
Â Â Â Â â€¢Â Â Â Â â€œScan complete: 3 orchids from ~35Â°N.â€

â¸»

2) SPECIES CARDS (UI COMPONENT)

Create a reusable â€œOrchid Hotspot Cardâ€ component with this structure.Â Â 

Image (top) â€¢ Location â€¢ Scientific (italic) â€¢ Common name
Appearance â€¢ Habitat â€¢ Pollinators â€¢ Adaptations â€¢ Status
Fun fact (highlight box)
Icon buttons: [ğŸŒ± Symbiosis] [ğŸ Pollinator] [âš  Status] [ğŸ“ Map Pin]

Populate from the seed JSON in Â§4. Clicking ğŸ“ recenters globe on the cardâ€™s coordinates.

â¸»

3) DEMO TOUR (AUTOPLAY)

Implement ui.run_demo_35p() using this storyboard timing (approx 20s per stop; total ~5m):

Order: Intro â†’ North Carolina (Platanthera ciliaris) â†’ Tennessee/Arkansas (P. integrilabia) â†’ Santa Barbara (Cypripedium californicum) â†’ Central CA (Piperia elongata) â†’ San Diego (Calochortus invenustus) â†’ Mediterranean (Ophrys apifera, Orchis sancta, Orchis italica) â†’ Japan (Cymbidium goeringii, Neofinetia falcata) â†’ China (Dendrobium officinale) â†’ Australia NSW (Pterostylis curta, Diuris sulphurea) â†’ Victoria (Phalaenopsis amabilis) â†’ Closing zoom-out.

Show the narration captions we already drafted (keep to 1â€“2 lines visible per stop).

â¸»

4) DATA: SEED JSON (CARDS + HOTSPOTS + LAT BANDS)

Create/extend a data file (e.g., data/35p_species.json) and load it at startup:

{
Â Â "lat_band_name": "35N",
Â Â "lat_min": 30,
Â Â "lat_max": 40,
Â Â "regions": ["california", "mediterranean", "japan", "china", "australia"],
Â Â "species": [
Â Â Â Â {
Â Â Â Â Â Â "card_id": "platanthera_ciliaris",
Â Â Â Â Â Â "genus": "Platanthera",
Â Â Â Â Â Â "species": "ciliaris",
Â Â Â Â Â Â "common_name": "Yellow Fringed Orchid",
Â Â Â Â Â Â "region": "north_america",
Â Â Â Â Â Â "coords": [34.9, -77.5],
Â Â Â Â Â Â "appearance": "Bright orange-yellow blooms with fringed petals",
Â Â Â Â Â Â "habitat": "Moist sandy wetlands",
Â Â Â Â Â Â "pollinators": "Butterflies",
Â Â Â Â Â Â "adaptations": "Fringed petals expand landing area",
Â Â Â Â Â Â "status": "Declining due to wetland loss",
Â Â Â Â Â Â "fun_fact": "Fiery color attracts long-tongued swallowtails.",
Â Â Â Â Â Â "native_lat_min": 30,
Â Â Â Â Â Â "native_lat_max": 40,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 300
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "platanthera_integrilabia",
Â Â Â Â Â Â "genus": "Platanthera",
Â Â Â Â Â Â "species": "integrilabia",
Â Â Â Â Â Â "common_name": "White Fringeless Orchid",
Â Â Â Â Â Â "region": "north_america",
Â Â Â Â Â Â "coords": [35.6, -86.6],
Â Â Â Â Â Â "appearance": "Small, delicate white flowers",
Â Â Â Â Â Â "habitat": "Seasonally flooded wetlands",
Â Â Â Â Â Â "pollinators": "Nocturnal moths",
Â Â Â Â Â Â "adaptations": "Tolerates fluctuating water levels",
Â Â Â Â Â Â "status": "Federally threatened",
Â Â Â Â Â Â "fun_fact": "Rediscovered after being thought extinct.",
Â Â Â Â Â Â "native_lat_min": 30,
Â Â Â Â Â Â "native_lat_max": 40,
Â Â Â Â Â Â "altitude_m_min": 150,
Â Â Â Â Â Â "altitude_m_max": 400
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "cypripedium_californicum",
Â Â Â Â Â Â "genus": "Cypripedium",
Â Â Â Â Â Â "species": "californicum",
Â Â Â Â Â Â "common_name": "California Ladyâ€™s Slipper",
Â Â Â Â Â Â "region": "california",
Â Â Â Â Â Â "coords": [34.4, -119.7],
Â Â Â Â Â Â "appearance": "White slipper blooms with green tinge",
Â Â Â Â Â Â "habitat": "Cool, moist riparian woodlands",
Â Â Â Â Â Â "pollinators": "Bees",
Â Â Â Â Â Â "adaptations": "Mycorrhizal nutrient uptake",
Â Â Â Â Â Â "status": "Rare; sensitive to disturbance",
Â Â Â Â Â Â "fun_fact": "Californiaâ€™s only native ladyâ€™s slipper orchid.",
Â Â Â Â Â Â "native_lat_min": 34,
Â Â Â Â Â Â "native_lat_max": 36,
Â Â Â Â Â Â "altitude_m_min": 100,
Â Â Â Â Â Â "altitude_m_max": 900
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "piperia_elongata",
Â Â Â Â Â Â "genus": "Piperia",
Â Â Â Â Â Â "species": "elongata",
Â Â Â Â Â Â "common_name": "Rein Orchid",
Â Â Â Â Â Â "region": "california",
Â Â Â Â Â Â "coords": [35.4, -120.8],
Â Â Â Â Â Â "appearance": "Tall spikes of greenish-white flowers",
Â Â Â Â Â Â "habitat": "Shaded coastal forests",
Â Â Â Â Â Â "pollinators": "Night-flying moths",
Â Â Â Â Â Â "adaptations": "Nocturnal fragrance",
Â Â Â Â Â Â "status": "Locally uncommon",
Â Â Â Â Â Â "fun_fact": "Name means â€œlong,â€ for its tall spikes.",
Â Â Â Â Â Â "native_lat_min": 34,
Â Â Â Â Â Â "native_lat_max": 37,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 800
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "calochortus_invenustus",
Â Â Â Â Â Â "genus": "Calochortus",
Â Â Â Â Â Â "species": "invenustus",
Â Â Â Â Â Â "common_name": "San Diego Fairy Lantern",
Â Â Â Â Â Â "region": "california",
Â Â Â Â Â Â "coords": [32.9, -117.2],
Â Â Â Â Â Â "appearance": "Bell-shaped pink-white flowers",
Â Â Â Â Â Â "habitat": "Sandy, well-drained soils",
Â Â Â Â Â Â "pollinators": "Bees & small insects",
Â Â Â Â Â Â "adaptations": "Tolerant of drier soils",
Â Â Â Â Â Â "status": "Endemic; urban pressure",
Â Â Â Â Â Â "fun_fact": "Often grouped in orchid habitat studies.",
Â Â Â Â Â Â "native_lat_min": 32,
Â Â Â Â Â Â "native_lat_max": 35,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 400
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "ophrys_apifera",
Â Â Â Â Â Â "genus": "Ophrys",
Â Â Â Â Â Â "species": "apifera",
Â Â Â Â Â Â "common_name": "Bee Orchid",
Â Â Â Â Â Â "region": "mediterranean",
Â Â Â Â Â Â "coords": [37.9, 23.7],
Â Â Â Â Â Â "appearance": "Mimics female bees",
Â Â Â Â Â Â "habitat": "Rocky slopes, scrub",
Â Â Â Â Â Â "pollinators": "Solitary bees (Eucera)",
Â Â Â Â Â Â "adaptations": "Visual + pheromone mimicry; self-pollinates if needed",
Â Â Â Â Â Â "status": "Local declines",
Â Â Â Â Â Â "fun_fact": "In some regions, often self-pollinates.",
Â Â Â Â Â Â "native_lat_min": 30,
Â Â Â Â Â Â "native_lat_max": 40,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 1000
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "orchis_sancta",
Â Â Â Â Â Â "genus": "Orchis",
Â Â Â Â Â Â "species": "sancta",
Â Â Â Â Â Â "common_name": "Holy Orchid",
Â Â Â Â Â Â "region": "mediterranean",
Â Â Â Â Â Â "coords": [36.8, 27.1],
Â Â Â Â Â Â "appearance": "Purple with dark veining",
Â Â Â Â Â Â "habitat": "Sunlit rocky habitats",
Â Â Â Â Â Â "pollinators": "Bees & wasps",
Â Â Â Â Â Â "adaptations": "Strong fragrance",
Â Â Â Â Â Â "status": "Rare; habitat-limited",
Â Â Â Â Â Â "fun_fact": "Name reflects sacred associations.",
Â Â Â Â Â Â "native_lat_min": 30,
Â Â Â Â Â Â "native_lat_max": 40,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 800
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "orchis_italica",
Â Â Â Â Â Â "genus": "Orchis",
Â Â Â Â Â Â "species": "italica",
Â Â Â Â Â Â "common_name": "Naked Man Orchid",
Â Â Â Â Â Â "region": "mediterranean",
Â Â Â Â Â Â "coords": [38.7, -9.1],
Â Â Â Â Â Â "appearance": "Flowers like tiny human figures",
Â Â Â Â Â Â "habitat": "Open fields, scrublands",
Â Â Â Â Â Â "pollinators": "Generalist bees & insects",
Â Â Â Â Â Â "adaptations": "Visual mimicry",
Â Â Â Â Â Â "status": "Regionally stable",
Â Â Â Â Â Â "fun_fact": "Strong presence in S. Italy.",
Â Â Â Â Â Â "native_lat_min": 30,
Â Â Â Â Â Â "native_lat_max": 40,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 900
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "cymbidium_goeringii",
Â Â Â Â Â Â "genus": "Cymbidium",
Â Â Â Â Â Â "species": "goeringii",
Â Â Â Â Â Â "common_name": "Japanese Terrestrial Orchid",
Â Â Â Â Â Â "region": "japan",
Â Â Â Â Â Â "coords": [35.0, 135.8],
Â Â Â Â Â Â "appearance": "Elegant green-yellow flowers",
Â Â Â Â Â Â "habitat": "Humid, shaded forests",
Â Â Â Â Â Â "pollinators": "Bees & flies",
Â Â Â Â Â Â "adaptations": "Strong mycorrhizal reliance",
Â Â Â Â Â Â "status": "Habitat dependent",
Â Â Â Â Â Â "fun_fact": "Cherished for refinement.",
Â Â Â Â Â Â "native_lat_min": 30,
Â Â Â Â Â Â "native_lat_max": 40,
Â Â Â Â Â Â "altitude_m_min": 100,
Â Â Â Â Â Â "altitude_m_max": 1200
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "neofinetia_falcata",
Â Â Â Â Â Â "genus": "Neofinetia",
Â Â Â Â Â Â "species": "falcata",
Â Â Â Â Â Â "common_name": "Wind Orchid (FÅ«kiran)",
Â Â Â Â Â Â "region": "japan",
Â Â Â Â Â Â "coords": [34.7, 133.9],
Â Â Â Â Â Â "appearance": "White, spurred, fragrant at night",
Â Â Â Â Â Â "habitat": "Lowland epiphytic forests",
Â Â Â Â Â Â "pollinators": "Night moths",
Â Â Â Â Â Â "adaptations": "Powerful nocturnal fragrance",
Â Â Â Â Â Â "status": "Cultivated widely",
Â Â Â Â Â Â "fun_fact": "Once prized by samurai.",
Â Â Â Â Â Â "native_lat_min": 30,
Â Â Â Â Â Â "native_lat_max": 40,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 600
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "dendrobium_officinale",
Â Â Â Â Â Â "genus": "Dendrobium",
Â Â Â Â Â Â "species": "officinale",
Â Â Â Â Â Â "common_name": "Medicinal Dendrobium",
Â Â Â Â Â Â "region": "china",
Â Â Â Â Â Â "coords": [30.7, 119.3],
Â Â Â Â Â Â "appearance": "Small white-yellowish flowers",
Â Â Â Â Â Â "habitat": "Humid forests; epiphytic",
Â Â Â Â Â Â "pollinators": "Bees & flies",
Â Â Â Â Â Â "adaptations": "Medicinal compounds; fungi reliance",
Â Â Â Â Â Â "status": "Vulnerable to over-harvesting",
Â Â Â Â Â Â "fun_fact": "Called the â€˜orchid of longevityâ€™.",
Â Â Â Â Â Â "native_lat_min": 28,
Â Â Â Â Â Â "native_lat_max": 31,
Â Â Â Â Â Â "altitude_m_min": 200,
Â Â Â Â Â Â "altitude_m_max": 1500
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "pterostylis_curta",
Â Â Â Â Â Â "genus": "Pterostylis",
Â Â Â Â Â Â "species": "curta",
Â Â Â Â Â Â "common_name": "Blunt Greenhood",
Â Â Â Â Â Â "region": "australia",
Â Â Â Â Â Â "coords": [-34.7, 150.7],
Â Â Â Â Â Â "appearance": "Green-white translucent hood",
Â Â Â Â Â Â "habitat": "Shaded woodlands",
Â Â Â Â Â Â "pollinators": "Fungus gnats",
Â Â Â Â Â Â "adaptations": "Trap-pollination",
Â Â Â Â Â Â "status": "Stable but fragile",
Â Â Â Â Â Â "fun_fact": "One-way â€˜gateâ€™ for pollinators.",
Â Â Â Â Â Â "native_lat_min": -37,
Â Â Â Â Â Â "native_lat_max": -33,
Â Â Â Â Â Â "altitude_m_min": 50,
Â Â Â Â Â Â "altitude_m_max": 900
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "diuris_sulphurea",
Â Â Â Â Â Â "genus": "Diuris",
Â Â Â Â Â Â "species": "sulphurea",
Â Â Â Â Â Â "common_name": "Tiger Orchid",
Â Â Â Â Â Â "region": "australia",
Â Â Â Â Â Â "coords": [-35.2, 149.1],
Â Â Â Â Â Â "appearance": "Bright yellow with brown spots",
Â Â Â Â Â Â "habitat": "Grasslands & open woodlands",
Â Â Â Â Â Â "pollinators": "Native bees",
Â Â Â Â Â Â "adaptations": "Nectar mimicry",
Â Â Â Â Â Â "status": "Threatened by clearing",
Â Â Â Â Â Â "fun_fact": "â€˜Donkey Orchidâ€™ for ear-like petals.",
Â Â Â Â Â Â "native_lat_min": -38,
Â Â Â Â Â Â "native_lat_max": -33,
Â Â Â Â Â Â "altitude_m_min": 100,
Â Â Â Â Â Â "altitude_m_max": 1000
Â Â Â Â },
Â Â Â Â {
Â Â Â Â Â Â "card_id": "phalaenopsis_amabilis",
Â Â Â Â Â Â "genus": "Phalaenopsis",
Â Â Â Â Â Â "species": "amabilis",
Â Â Â Â Â Â "common_name": "Moth Orchid",
Â Â Â Â Â Â "region": "australia",
Â Â Â Â Â Â "coords": [-38.1, 145.1],
Â Â Â Â Â Â "appearance": "Large white butterfly-like blooms",
Â Â Â Â Â Â "habitat": "Coastal forests, shaded edges",
Â Â Â Â Â Â "pollinators": "Bees & moths",
Â Â Â Â Â Â "adaptations": "Showy blossoms attract diverse pollinators",
Â Â Â Â Â Â "status": "Wild forms rare",
Â Â Â Â Â Â "fun_fact": "Ancestor of many houseplant hybrids.",
Â Â Â Â Â Â "native_lat_min": -39,
Â Â Â Â Â Â "native_lat_max": -34,
Â Â Â Â Â Â "altitude_m_min": 0,
Â Â Â Â Â Â "altitude_m_max": 600
Â Â Â Â }
Â Â ]
}

Note: South-hemisphere latitudes are negative; we include them because users often ask for â€œ35th parallelâ€ analogs in the south (optional to show). You can filter to 35Â°N only if desired.

â¸»

5) DATABASE: FIELDS & QUERIES

5.1 Add/ensure fields on orchids table
Â Â Â Â â€¢Â Â Â Â native_lat_min FLOAT
Â Â Â Â â€¢Â Â Â Â native_lat_max FLOAT
Â Â Â Â â€¢Â Â Â Â native_regions TEXT/JSON (e.g., [â€œmediterraneanâ€])
Â Â Â Â â€¢Â Â Â Â altitude_m_min INT, altitude_m_max INT
Â Â Â Â â€¢Â Â Â Â pollinator_notes TEXT
Â Â Â Â â€¢Â Â Â Â card_id STRING (links to UI card)

5.2 Dynamic list query (~35Â°N with buffer)

SELECT genus, species, common_name, native_regions, altitude_m_min, altitude_m_max,
Â Â Â Â Â Â Â native_lat_min, native_lat_max, card_id
FROM orchids
WHERE (native_lat_min <= 35 AND native_lat_max >= 35)
Â Â Â OR (native_lat_min BETWEEN 30 AND 40)
Â Â Â OR (native_lat_max BETWEEN 30 AND 40)
ORDER BY native_regions, genus, species;


SELECT c.genus, c.species, o.native_regions, o.native_lat_min, o.native_lat_max, o.card_id
FROM user_collection c
JOIN orchids o
Â Â ON LOWER(c.genus)=LOWER(o.genus) AND LOWER(c.species)=LOWER(o.species)
WHERE c.user_id = :user_id
Â Â AND (
Â Â Â Â Â Â Â (o.native_lat_min <= 35 AND o.native_lat_max >= 35) OR
Â Â Â Â Â Â Â (o.native_lat_min BETWEEN 30 AND 40) OR
Â Â Â Â Â Â Â (o.native_lat_max BETWEEN 30 AND 40)
Â Â );


6) PROFESSOR BLOOMBOT (INTENTS & ACTIONS)

Wire these intents to UI/DB actions:
Â Â Â Â â€¢Â Â Â Â lesson.35p.open â†’ ui.toggle_35p_on(), ui.open_sidepanel("35p_lesson")
Reply: â€œ35th Parallel highlighted. Want the demo tour or to browse hotspots?â€
Â Â Â Â â€¢Â Â Â Â lesson.35p.demo â†’ ui.run_demo_35p()
Reply: â€œRolling! Iâ€™ll guide you eastward across the 35th Parallelâ€”watch for species cards.â€
Â Â Â Â â€¢Â Â Â Â lesson.35p.list_all â†’ run query Â§5.2 + ui.open_list_view("orchids_35N")
Reply: â€œHereâ€™s a live list of orchids near ~35Â°N. Filter by region and open any species card.â€
Â Â Â Â â€¢Â Â Â Â lesson.35p.my_collection â†’ run query Â§5.3
If linked: â€œYou have N orchids from ~35Â°N: â€¦ Open on the map?â€
Else: â€œUpload or link your collection to scan for 35Â°N natives.â€
Â Â Â Â â€¢Â Â Â Â lesson.35p.region(region) â†’ ui.open_region_hotspots(region)
Reply: â€œHere are {Region} hotspots along the 35th. Which card should I open?â€
Â Â Â Â â€¢Â Â Â Â lesson.35p.species_card(card_id) â†’ ui.open_species_card(card_id)
Reply: â€œOpening the card for Genus species.â€
Â Â Â Â â€¢Â Â Â Â lesson.35p.help â†’ reply with quick tips:
â€œTry: â€˜Run the demo tourâ€™ â€¢ â€˜List orchids from the 35thâ€™ â€¢ â€˜Check my collectionâ€™ â€¢ â€˜Show Japan at 35Â°Nâ€™ â€¢ â€˜Open the Bee Orchid cardâ€™.â€

â¸»

7) ACCEPTANCE CRITERIA (TEST THIS)
Â Â Â Â â€¢Â Â Â Â Toggling ğŸŒ 35th Parallel Trail shows a glowing 35Â°N line and enables hotspots.
Â Â Â Â â€¢Â Â Â Â Clicking region chips shows correct hotspots and opens card component with seed content.
Â Â Â Â â€¢Â Â Â Â Demo Tour rotates through all 14 stops with captions; â€œpause/stopâ€ works.
Â Â Â Â â€¢Â Â Â Â List 35Â°N Orchids opens a table populated by DB query; clicking a row opens its card.
Â Â Â Â â€¢Â Â Â Â Check My Collection returns matches (or prompts to upload).
Â Â Â Â â€¢Â Â Â Â BloomBot phrases (â€œExplore the 35th parallelâ€, â€œRun the demo tourâ€, â€œList orchids from 35Â°Nâ€, â€œShow Japanâ€) trigger the correct UI/DB actions.
Â Â Â Â â€¢Â Â Â Â Nothing existing is removed or broken.

â¸»

8) NOTES
Â Â Â Â â€¢Â Â Â Â Keep performance smooth on mobile: lazy-load images in cards.
Â Â Â Â â€¢Â Â Â Â Use existing design system (colors/typography), minor additions ok.
Â Â Â Â â€¢Â Â Â Â If any species lacks an image, show a neutral illustration placeholder.
Â Â Â Â â€¢Â Â Â Â Keep all new code in modular files: lesson_35p/ folder recommended.
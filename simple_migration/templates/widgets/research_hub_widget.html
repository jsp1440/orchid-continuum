<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orchid Research Hub</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        body { 
            background: #1a1a1a; 
            color: #fff; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .research-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        .tool-section {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        .comparison-panel {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }
        .orchid-slot {
            background: rgba(255,255,255,0.05);
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            min-height: 200px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .orchid-slot:hover {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }
        .orchid-slot.filled {
            border-color: #4CAF50;
            border-style: solid;
            background: rgba(76, 175, 80, 0.2);
        }
        .research-tool-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border: none;
            color: #fff;
            padding: 10px 20px;
            border-radius: 25px;
            margin: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .research-tool-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
        }
        .citation-output {
            background: #2d2d2d;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            border-left: 4px solid #4CAF50;
        }
        .analysis-section {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }
        .similarity-meter {
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            height: 8px;
            margin: 10px 0;
            overflow: hidden;
        }
        .similarity-fill {
            background: linear-gradient(90deg, #FF6B6B, #FFD700, #4CAF50);
            height: 100%;
            border-radius: 20px;
            transition: width 0.5s ease;
        }
        .export-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        .export-btn {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .export-btn:hover {
            background: #4CAF50;
            border-color: #4CAF50;
        }
        .comparison-metric {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            padding: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
        }
        .tab-button {
            background: rgba(255,255,255,0.1);
            border: none;
            color: #fff;
            padding: 10px 20px;
            border-radius: 25px 25px 0 0;
            margin-right: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background: rgba(255,255,255,0.2);
        }
        .citation-format {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .citation-format:hover {
            background: rgba(255,255,255,0.2);
        }
        .citation-format.selected {
            background: #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container-fluid p-0">
        <div class="research-container">
            <!-- Header -->
            <div class="text-center mb-4">
                <h2 class="mb-2">ðŸ”¬ Orchid Research Hub</h2>
                <p class="text-muted">Advanced comparison tools and citation generator for academic research</p>
            </div>

            <!-- Research Tool Tabs -->
            <div class="text-center mb-4">
                <button class="tab-button active" onclick="switchTab('comparison')" id="comparison-tab">
                    <i data-feather="compare"></i> Comparison Tool
                </button>
                <button class="tab-button" onclick="switchTab('citation')" id="citation-tab">
                    <i data-feather="bookmark"></i> Citation Generator
                </button>
                <button class="tab-button" onclick="switchTab('analysis')" id="analysis-tab">
                    <i data-feather="bar-chart"></i> Statistical Analysis
                </button>
                <button class="tab-button" onclick="switchTab('export')" id="export-tab">
                    <i data-feather="download"></i> Export Data
                </button>
            </div>

            <!-- Comparison Tool -->
            <div id="comparison-content" class="tab-content">
                <div class="tool-section">
                    <h5><i data-feather="compare"></i> Side-by-Side Orchid Comparison</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="orchid-slot" onclick="selectOrchid(1)" id="slot1">
                                <i data-feather="plus" style="width: 50px; height: 50px; margin-bottom: 15px;"></i>
                                <h6>Select First Orchid</h6>
                                <p>Click to choose from your collection</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="orchid-slot" onclick="selectOrchid(2)" id="slot2">
                                <i data-feather="plus" style="width: 50px; height: 50px; margin-bottom: 15px;"></i>
                                <h6>Select Second Orchid</h6>
                                <p>Click to choose from your collection</p>
                            </div>
                        </div>
                    </div>

                    <!-- Comparison Results -->
                    <div id="comparison-results" style="display: none;">
                        <h6 class="mt-4">Comparison Analysis</h6>
                        <div class="analysis-section">
                            <div class="comparison-metric">
                                <span>Taxonomic Similarity:</span>
                                <span><strong>87%</strong></span>
                            </div>
                            <div class="similarity-meter">
                                <div class="similarity-fill" style="width: 87%"></div>
                            </div>

                            <div class="comparison-metric">
                                <span>Morphological Similarity:</span>
                                <span><strong>73%</strong></span>
                            </div>
                            <div class="similarity-meter">
                                <div class="similarity-fill" style="width: 73%"></div>
                            </div>

                            <div class="comparison-metric">
                                <span>Habitat Compatibility:</span>
                                <span><strong>92%</strong></span>
                            </div>
                            <div class="similarity-meter">
                                <div class="similarity-fill" style="width: 92%"></div>
                            </div>

                            <div class="comparison-metric">
                                <span>Phenotypic Variation:</span>
                                <span><strong>68%</strong></span>
                            </div>
                            <div class="similarity-meter">
                                <div class="similarity-fill" style="width: 68%"></div>
                            </div>
                        </div>

                        <div class="mt-3">
                            <button class="research-tool-btn" onclick="generateReport()">
                                <i data-feather="file-text"></i> Generate Detailed Report
                            </button>
                            <button class="research-tool-btn" onclick="exportComparison()">
                                <i data-feather="download"></i> Export Comparison
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Citation Generator -->
            <div id="citation-content" class="tab-content" style="display: none;">
                <div class="tool-section">
                    <h5><i data-feather="bookmark"></i> Academic Citation Generator</h5>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Select Citation Format:</h6>
                            <div class="citation-format selected" onclick="selectFormat('apa')">
                                <strong>APA Style</strong><br>
                                <small>American Psychological Association format</small>
                            </div>
                            <div class="citation-format" onclick="selectFormat('mla')">
                                <strong>MLA Style</strong><br>
                                <small>Modern Language Association format</small>
                            </div>
                            <div class="citation-format" onclick="selectFormat('chicago')">
                                <strong>Chicago Style</strong><br>
                                <small>Chicago Manual of Style format</small>
                            </div>
                            <div class="citation-format" onclick="selectFormat('bibtex')">
                                <strong>BibTeX</strong><br>
                                <small>LaTeX bibliography format</small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6>Citation Preview:</h6>
                            <div class="citation-output" id="citation-preview">
                                <strong>APA Format:</strong><br><br>
                                Five Cities Orchid Society. (2025). <em>World Orchids Database</em>. 
                                Retrieved September 2, 2025, from https://orchid-continuum.replit.app<br><br>
                                Hassler, M. (2025). <em>World Orchids: Orchidaceae</em>. 
                                Gerhard Hassler. Retrieved September 2, 2025, from 
                                https://www.worldflorafauna.com/
                            </div>
                        </div>
                    </div>

                    <div class="export-options">
                        <button class="export-btn" onclick="copyToClipboard()">
                            <i data-feather="copy"></i> Copy Citation
                        </button>
                        <button class="export-btn" onclick="downloadCitation()">
                            <i data-feather="download"></i> Download .txt
                        </button>
                        <button class="export-btn" onclick="exportBibTeX()">
                            <i data-feather="code"></i> Export BibTeX
                        </button>
                        <button class="export-btn" onclick="emailCitation()">
                            <i data-feather="mail"></i> Email Citation
                        </button>
                    </div>
                </div>
            </div>

            <!-- Statistical Analysis -->
            <div id="analysis-content" class="tab-content" style="display: none;">
                <div class="tool-section">
                    <h5><i data-feather="bar-chart"></i> Statistical Analysis Tools</h5>
                    <div class="analysis-section">
                        <h6>Collection Statistics</h6>
                        <div class="row">
                            <div class="col-md-3 text-center">
                                <div style="font-size: 2em; color: #4CAF50;">247</div>
                                <div>Total Specimens</div>
                            </div>
                            <div class="col-md-3 text-center">
                                <div style="font-size: 2em; color: #4CAF50;">42</div>
                                <div>Genera</div>
                            </div>
                            <div class="col-md-3 text-center">
                                <div style="font-size: 2em; color: #4CAF50;">189</div>
                                <div>Species</div>
                            </div>
                            <div class="col-md-3 text-center">
                                <div style="font-size: 2em; color: #4CAF50;">78%</div>
                                <div>With Photos</div>
                            </div>
                        </div>
                    </div>

                    <div class="analysis-section">
                        <h6>Biodiversity Metrics</h6>
                        <div class="comparison-metric">
                            <span>Shannon Diversity Index:</span>
                            <span><strong>3.47</strong></span>
                        </div>
                        <div class="comparison-metric">
                            <span>Simpson's Diversity Index:</span>
                            <span><strong>0.89</strong></span>
                        </div>
                        <div class="comparison-metric">
                            <span>Evenness Index:</span>
                            <span><strong>0.73</strong></span>
                        </div>
                    </div>

                    <button class="research-tool-btn" onclick="generateAnalysis()">
                        <i data-feather="trending-up"></i> Generate Full Analysis
                    </button>
                </div>
            </div>

            <!-- Export Data -->
            <div id="export-content" class="tab-content" style="display: none;">
                <div class="tool-section">
                    <h5><i data-feather="download"></i> Data Export Options</h5>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Research Datasets</h6>
                            <button class="research-tool-btn w-100 mb-2" onclick="exportDataset('csv')">
                                <i data-feather="file-text"></i> Export as CSV
                            </button>
                            <button class="research-tool-btn w-100 mb-2" onclick="exportDataset('json')">
                                <i data-feather="code"></i> Export as JSON
                            </button>
                            <button class="research-tool-btn w-100 mb-2" onclick="exportDataset('xlsx')">
                                <i data-feather="grid"></i> Export as Excel
                            </button>
                        </div>
                        <div class="col-md-6">
                            <h6>Research Reports</h6>
                            <button class="research-tool-btn w-100 mb-2" onclick="exportReport('pdf')">
                                <i data-feather="file"></i> PDF Research Report
                            </button>
                            <button class="research-tool-btn w-100 mb-2" onclick="exportReport('docx')">
                                <i data-feather="edit"></i> Word Document
                            </button>
                            <button class="research-tool-btn w-100 mb-2" onclick="exportReport('latex')">
                                <i data-feather="book"></i> LaTeX Format
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedFormat = 'apa';
        let selectedOrchids = {1: null, 2: null};

        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab-button').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab and activate button
            document.getElementById(tabName + '-content').style.display = 'block';
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        function selectOrchid(slotNumber) {
            // Simulate orchid selection
            const orchidNames = ['Cattleya trianae', 'Phalaenopsis amabilis', 'Dendrobium nobile'];
            const selectedName = orchidNames[Math.floor(Math.random() * orchidNames.length)];
            
            const slot = document.getElementById('slot' + slotNumber);
            slot.classList.add('filled');
            slot.innerHTML = `
                <div style="font-size: 3em; margin-bottom: 10px;">ðŸŒº</div>
                <h6>${selectedName}</h6>
                <p>Click to change selection</p>
            `;
            
            selectedOrchids[slotNumber] = selectedName;
            
            // Show comparison results if both orchids selected
            if (selectedOrchids[1] && selectedOrchids[2]) {
                document.getElementById('comparison-results').style.display = 'block';
            }
        }

        function selectFormat(format) {
            document.querySelectorAll('.citation-format').forEach(f => {
                f.classList.remove('selected');
            });
            event.target.classList.add('selected');
            selectedFormat = format;
            updateCitationPreview();
        }

        function updateCitationPreview() {
            const preview = document.getElementById('citation-preview');
            const citations = {
                'apa': `<strong>APA Format:</strong><br><br>Five Cities Orchid Society. (2025). <em>World Orchids Database</em>. Retrieved September 2, 2025, from https://orchid-continuum.replit.app`,
                'mla': `<strong>MLA Format:</strong><br><br>Five Cities Orchid Society. "World Orchids Database." <em>Orchid Continuum</em>, 2025, orchid-continuum.replit.app.`,
                'chicago': `<strong>Chicago Format:</strong><br><br>Five Cities Orchid Society. "World Orchids Database." Orchid Continuum. Accessed September 2, 2025. https://orchid-continuum.replit.app.`,
                'bibtex': `<strong>BibTeX Format:</strong><br><br>@misc{fcos2025,<br>&nbsp;&nbsp;author = {Five Cities Orchid Society},<br>&nbsp;&nbsp;title = {World Orchids Database},<br>&nbsp;&nbsp;year = {2025},<br>&nbsp;&nbsp;url = {https://orchid-continuum.replit.app}<br>}`
            };
            preview.innerHTML = citations[selectedFormat];
        }

        function generateReport() {
            alert('Generating detailed comparison report...');
        }

        function exportComparison() {
            alert('Exporting comparison data...');
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(document.getElementById('citation-preview').textContent);
            alert('Citation copied to clipboard!');
        }

        function downloadCitation() {
            alert('Downloading citation as text file...');
        }

        function exportBibTeX() {
            alert('Exporting BibTeX format...');
        }

        function emailCitation() {
            alert('Opening email client with citation...');
        }

        function generateAnalysis() {
            alert('Generating statistical analysis report...');
        }

        function exportDataset(format) {
            alert(`Exporting dataset as ${format.toUpperCase()}...`);
        }

        function exportReport(format) {
            alert(`Exporting research report as ${format.toUpperCase()}...`);
        }

        // Initialize Feather icons
        feather.replace();
    </script>
</body>
</html>
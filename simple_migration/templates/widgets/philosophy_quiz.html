<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ultimate Orchid Philosophy Quiz</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/feather-icons@4.29.0/dist/feather.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #fff;
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .quiz-header {
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .question-card {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }
        .question-card:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }
        .form-check-input {
            background: rgba(255,255,255,0.1);
            border: 2px solid #8b5cf6;
            margin-right: 0.5rem;
        }
        .form-check-input:checked {
            background: #8b5cf6;
            border-color: #8b5cf6;
        }
        .form-check-label {
            color: #e5e7eb;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        .form-check-label:hover {
            background: rgba(139, 92, 246, 0.1);
            color: #fff;
        }
        .btn-philosophy {
            background: linear-gradient(45deg, #8b5cf6, #7c3aed);
            border: none;
            padding: 0.75rem 2rem;
            font-weight: 600;
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        .btn-philosophy:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }
        .philosophy-intro {
            text-align: center;
            margin-bottom: 2rem;
        }
        .existing-badge {
            background: rgba(34, 197, 94, 0.1);
            border: 2px solid #22c55e;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .progress-indicator {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            height: 6px;
            margin-bottom: 2rem;
        }
        .progress-bar {
            background: linear-gradient(45deg, #8b5cf6, #7c3aed);
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        {% if existing_philosophy %}
        <div class="existing-badge text-center">
            <h4>{{ existing_philosophy.badge_emoji }} Your Orchid Philosophy: {{ existing_philosophy.badge_name }}</h4>
            <p class="mb-2">{{ existing_philosophy.description }}</p>
            <small class="text-muted">Earned: {{ existing_philosophy.earned_date[:10] }}</small>
            <div class="mt-3">
                <p><strong>Want to retake the quiz?</strong> You can explore different perspectives anytime!</p>
            </div>
        </div>
        {% endif %}

        <div class="quiz-header text-center">
            <h1 class="display-4 mb-3">üåø The Ultimate Orchid Philosophy Quiz</h1>
            <h2 class="h4 mb-3">Discover Your Growing Philosophy</h2>
            <p class="lead fst-italic mb-4" style="color: #e5e7eb;">A search for meaning, with roots in the absurd and petals in the profound.</p>
        </div>

        <div class="philosophy-intro mb-5">
            <!-- Philosophy & Orchids Introduction -->
            <div class="row justify-content-center mb-4">
                <div class="col-lg-10">
                    <div class="question-card">
                        <h3 class="text-center mb-4" style="color: #8b5cf6;">üå± Philosophy & Orchids: A Shared Search for Meaning</h3>
                        
                        <p class="lead text-center mb-4">For centuries, humans have sought to understand the fundamental questions of life:</p>
                        
                        <div class="row text-center mb-4">
                            <div class="col-md-4 mb-2">
                                <strong style="color: #22c55e;">‚Ä¢ Why are we here?</strong>
                            </div>
                            <div class="col-md-4 mb-2">
                                <strong style="color: #22c55e;">‚Ä¢ What is beauty?</strong>
                            </div>
                            <div class="col-md-4 mb-2">
                                <strong style="color: #22c55e;">‚Ä¢ How do we create meaning?</strong>
                            </div>
                        </div>
                        
                        <p>From Ancient Greece to the Renaissance, from industrialization to modern existential crises, our philosophical inquiries have evolved in response to scientific discoveries, artistic movements, economic pressures, and technological advancements. But what if orchids, too, could serve as a lens through which we explore these same questions?</p>
                        
                        <div class="row mt-4 mb-4">
                            <div class="col-md-6">
                                <h5 style="color: #8b5cf6;">üèõÔ∏è Philosophical Evolution</h5>
                                <ul class="list-unstyled small">
                                    <li>‚Ä¢ Ancient cultures: Spiritual meaning & symbolism</li>
                                    <li>‚Ä¢ Enlightenment: Scientific classification</li>
                                    <li>‚Ä¢ Industrial Revolution: Commercialization</li>
                                    <li>‚Ä¢ Modern era: Conservation & interconnectedness</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5 style="color: #8b5cf6;">üå∫ Orchid Growing Evolution</h5>
                                <ul class="list-unstyled small">
                                    <li>‚Ä¢ Ancient reverence for medicine & spirit</li>
                                    <li>‚Ä¢ Scientific inquiry & classification</li>
                                    <li>‚Ä¢ Making exotic plants accessible</li>
                                    <li>‚Ä¢ Ecological understanding & preservation</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="text-center p-3 mb-4" style="background: rgba(139, 92, 246, 0.1); border-radius: 10px; border-left: 4px solid #8b5cf6;">
                            <p class="mb-0 fst-italic"><strong>"Could it be that the way we grow orchids reflects our deepest philosophical beliefs?"</strong></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- What is the Meaning of Life Section -->
            <div class="row justify-content-center mb-4">
                <div class="col-lg-10">
                    <div class="question-card">
                        <h3 class="text-center mb-4" style="color: #8b5cf6;">ü§î What is the Meaning of Life? And Can Orchids Help Us Answer It?</h3>
                        
                        <p class="text-center mb-4">Across history, the great thinkers have tackled this question through different lenses:</p>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="p-3 rounded" style="background: rgba(59, 130, 246, 0.1); border-left: 3px solid #3b82f6;">
                                    <h6 style="color: #60a5fa;">üè∫ Plato</h6>
                                    <small>Sought truth in ideal forms beyond the physical world‚Äîperhaps like an Idealist grower always seeking the "perfect orchid."</small>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-3 rounded" style="background: rgba(34, 197, 94, 0.1); border-left: 3px solid #22c55e;">
                                    <h6 style="color: #4ade80;">üõ°Ô∏è The Stoics</h6>
                                    <small>Accepted suffering and imperfection‚Äîjust as a patient grower does when waiting years for a Cymbidium to bloom.</small>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-3 rounded" style="background: rgba(236, 72, 153, 0.1); border-left: 3px solid #ec4899;">
                                    <h6 style="color: #f472b6;">üé® Renaissance Humanists</h6>
                                    <small>Celebrated beauty and form, much like a collector who values an orchid's artistic appeal over rarity.</small>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-3 rounded" style="background: rgba(249, 115, 22, 0.1); border-left: 3px solid #f97316;">
                                    <h6 style="color: #fb923c;">üîß Pragmatists</h6>
                                    <small>Believe in what works, just like a grower who happily grows Phalaenopsis in a plastic cup because "it works."</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center mt-4 p-3" style="background: rgba(34, 197, 94, 0.1); border-radius: 10px;">
                            <h5 style="color: #22c55e;">üéØ Discover Your Orchid Philosophy!</h5>
                            <p class="mb-0">Each philosophical approach has a parallel in the orchid world‚Äîa way of thinking that shapes how we collect, care for, and connect with orchids. <strong>Take the quiz below and find out how your approach to growing orchids mirrors centuries of philosophical thought!</strong></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Philosophical Overview -->
            <div class="row justify-content-center mb-4">
                <div class="col-lg-10">
                    <div class="question-card">
                        <h4 class="text-center mb-3" style="color: #8b5cf6;">üìö A Quick Philosophical Preview</h4>
                        <p class="text-center text-muted mb-3"><em>Before you take the quiz, here's how different philosophical traditions might apply to orchid growers:</em></p>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="p-2 rounded" style="background: rgba(255,255,255,0.05);">
                                    <strong style="color: #fbbf24;">üåü Platonism (Idealism):</strong> <span class="small">Always seeking the rarest, most flawless orchid‚Äîthe ideal form just beyond reach.</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-2 rounded" style="background: rgba(255,255,255,0.05);">
                                    <strong style="color: #60a5fa;">üìä Aristotelian:</strong> <span class="small">Meticulously labels, documents, and perfects techniques through study.</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-2 rounded" style="background: rgba(255,255,255,0.05);">
                                    <strong style="color: #4ade80;">‚õ∞Ô∏è Stoicism:</strong> <span class="small">Calmly accepts setbacks and finds peace in the slow rhythms of orchid care.</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-2 rounded" style="background: rgba(255,255,255,0.05);">
                                    <strong style="color: #f472b6;">üå∫ Epicureanism:</strong> <span class="small">Surrounds themselves with beautiful, fragrant orchids purely for enjoyment.</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-2 rounded" style="background: rgba(255,255,255,0.05);">
                                    <strong style="color: #a78bfa;">üîç Skepticism:</strong> <span class="small">Questions orchid labels and never trusts plant tags without verification.</span>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="p-2 rounded" style="background: rgba(255,255,255,0.05);">
                                    <strong style="color: #34d399;">üåô Transcendentalism:</strong> <span class="small">Believes orchids are a spiritual connection to something greater.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mb-4">
                <div class="p-3" style="background: rgba(234, 179, 8, 0.1); border-radius: 10px; border: 1px solid rgba(234, 179, 8, 0.3);">
                    <strong style="color: #fbbf24;">üéØ Ready to discover your philosophy?</strong><br>
                    <span class="small">Answer honestly - there are no right or wrong answers, only insights into your unique approach!</span>
                </div>
            </div>
        </div>

        <form method="POST" action="{{ url_for('submit_widgets_philosophy_quiz') }}" id="philosophyQuizForm">
            <div class="progress-indicator">
                <div class="progress-bar" id="progressBar" style="width: 0%"></div>
            </div>
            
            {% for question in questions %}
            <div class="question-card">
                <h5 class="mb-3">{{ question.id }}. {{ question.question }}</h5>
                {% for option_key, option_text in question.options.items() %}
                <div class="form-check mb-2">
                    <input class="form-check-input" type="radio" 
                           name="question_{{ question.id }}" 
                           id="q{{ question.id }}{{ option_key }}" 
                           value="{{ option_key }}"
                           onchange="updateProgress()">
                    <label class="form-check-label w-100" for="q{{ question.id }}{{ option_key }}">
                        <strong>{{ option_key }}.</strong> {{ option_text }}
                    </label>
                </div>
                {% endfor %}
            </div>
            {% endfor %}

            <div class="text-center mt-4">
                <button type="submit" class="btn btn-philosophy btn-lg" id="submitBtn" disabled>
                    <i data-feather="compass"></i>
                    Submit to Get Your Personalized Results
                </button>
            </div>
        </form>

        <div class="mt-5 text-center">
            <p class="text-muted">
                <small>This quiz explores how different philosophical approaches might influence your orchid growing style. Your results connect you to the Five Cities Orchid Society community and unlock specialized growing recommendations.</small>
            </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script>
        feather.replace();
        
        function updateProgress() {
            const totalQuestions = {{ questions|length }};
            const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
            const progress = (answeredQuestions / totalQuestions) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
            
            // Enable submit button when all questions are answered
            const submitBtn = document.getElementById('submitBtn');
            if (answeredQuestions === totalQuestions) {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i data-feather="compass"></i> Submit to Get Your Personalized Results';
                feather.replace();
            } else {
                submitBtn.disabled = true;
                submitBtn.innerHTML = `<i data-feather="clock"></i> Answer ${totalQuestions - answeredQuestions} more questions`;
                feather.replace();
            }
        }

        // Initialize progress
        updateProgress();
        
        // Add animation on scroll
        window.addEventListener('scroll', function() {
            const cards = document.querySelectorAll('.question-card');
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                if (rect.top < window.innerHeight && rect.bottom > 0) {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }
            });
        });
        
        // Initialize card animations
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.question-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>